<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>問題</title>
  </head>
  <body>
    <!-- <form name="myForm">
      名前：
      <input type="text" name="name" />

      <br />

      メールアドレス：
      <input type="text" name="mail" />

      <br />

      年齢：
      <input type="radio" name="age" value="20" />20代
      <input type="radio" name="age" value="30" />30代
      <input type="radio" name="age" value="40" />40代
      <input type="radio" name="age" value="50" />50代

      <br />

      <label>普段使っているスマホは？</label><br />
      <input type="checkbox" name="phone" value="iphone" />iPhone
      <input type="checkbox" name="phone" value="android" />Android
      <input type="checkbox" name="phone" value="flip-phone" />ガラケー
      <input type="checkbox" name="phone" value="other" 　 />その他
    </form>
    <br />

    <button id="btn">実行</button><br /><br />
 -->
    <h1>JavaScript関連のリポジトリ総数 by GitHub</h1>
    <button id="btn">更新</button>
    <div id="result"></div>

    <script>
      //   const btn1 = document.getElementById("btn1");

      //   btn1.addEventListener("click", () => {
      //     const form = document.forms.myForm;
      //     console.log(form.name.value);
      //     console.log(form.mail.value);
      //     console.log(form.age.value);

      //     form.phone.forEach((item) => {
      //       if (item.checked) console.log(item.value);
      //     });
      //   });

      const url = "https://api.github.com/search/repositories?q=javascript";
      const btn = document.getElementById("btn");
      const result = document.getElementById("result");

      const createResult = (item) => {
        const h2 = document.createElement("h2");

        h2.textContent = "リポジトリの総数は、" + item.total_count + "件です！";

        result.appendChild(h2);
      };

      btn.addEventListener("click", () => {
        result.innerHTML = "";

        fetch(url)
          .then((data) => data.json())
          .then((data) => createResult(data));
      });
    </script>
  </body>
</html>
